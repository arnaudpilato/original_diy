<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/_layout}">

    <head>
        <title>Map</title>
        <link href="/static/scss/map.css" rel="stylesheet"/>
    </head>

<div layout:fragment="body">
    <div class="container">
        <div class="row my-4">
            <div class="col-12" id="map"></div>
        </div>
        <script th:inline="javascript">

            var workshops = [[${workshops}]]
             var map = L.map('map').setView([47.902964, 1.909251], 10);
            var tiles = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
                maxZoom: 18,
                attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
                    'Imagery © <a href=“https://www.mapbox.com/”>Mapbox</a>',
                id: 'mapbox/streets-v11',
                tileSize: 512,
                zoomOffset: -1
            }).addTo(map);

console.log(workshops);
            for (let i = 0; i < workshops.length; i++) {

               let marker =  L.marker([workshops[i].latitude , workshops[i].longitude], {
                }).addTo(map)

            }
            //  var marker = L.marker([47.902964, 1.909251]).addTo(map);

            //var circle = L.circle([47.902964, 1.909251], {
            //color: 'red',
            // fillColor: '#f03',
            //  fillOpacity: 0.5,
            //  radius: 500
            //}).addTo(map);
            var polygon = L.polygon([
                [51.509, -0.08],
                [51.503, -0.06],
                [51.51, -0.047]
            ]).addTo(map);
        </script>
    </div>
</div>
</html>