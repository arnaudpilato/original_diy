<div class="container" *ngIf="currentUser && isLoggedIn; else loggedOut">
    <div class="my-4">
        <ul class="title d-flex justify-content-center">
            <li class="letter"><input type="checkbox" /><div class="yellow">P</div></li>
            <li class="letter"><input type="checkbox" /><div class="green">R</div></li >
            <li class="letter"><input type="checkbox" /><div class="turquoise">O</div></li>
            <li class="letter"><input type="checkbox" /><div class="yellow">F</div></li>
            <li class="letter"><input type="checkbox" /><div class="green">I</div></li>
            <li class="letter"><input type="checkbox" /><div class="turquoise">L</div></li>
        </ul>
    </div>
    <div class="row justify-content-center">
        <div class="col-11 col-md-5">
            <form class="my-3" name="form" (ngSubmit)="onSubmit()" #userProfileForm="ngForm" novalidate>
                <div class="alert alert-success text-center" *ngIf="userProfileForm.submitted">{{ message }}</div>
                <div class="mb-3">
                    <label class="form-label" for="username">Username :</label>
                    <input class="form-control" id="username" name="username" [(ngModel)]="user.username" type="text"
                           placeholder="Utilisateur" required minlength="1" maxlength="100" #username="ngModel"
                           value="{{ user.username }}">
                </div>
                <div class="form-control alert-danger my-2" *ngIf="username.errors && userProfileForm.submitted">
                    <div *ngIf="username.errors['required']">Le nom est requis !</div>
                    <div *ngIf="username.errors['minlength']">L'identifiant doit faire plus de 1 caractère !</div>
                    <div *ngIf="username.errors['maxlength']">L'identifiant doit faire moins de 100 caractères !</div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="lastName">Nom :</label>
                    <input class="form-control" id="lastName" name="lastName" [(ngModel)]="user.lastName" type="text"
                           placeholder="Doe" value="{{ user.lastName }}">
                </div>
                <div class="mb-3">
                    <label class="form-label" for="firstName">Prenom :</label>
                    <input class="form-control" id="firstName" name="firstName" [(ngModel)]="user.firstName" type="text"
                           placeholder="ex : John" value="{{  user.firstName }}">
                </div>
                <div class="mb-3">
                    <label class="form-label" for="email">Mail :</label>
                    <input class="form-control" id="email" name="email" [(ngModel)]="user.email" type="email"
                           placeholder="ex : john.doe@mail.com" #email="ngModel" value="{{ user.email }}">
                </div>
                <div class="form-control alert-danger my-2" *ngIf="email.errors && userProfileForm.submitted">
                    <div *ngIf="email.errors['required']">L'adresse email est requise !</div>
                    <div *ngIf="email.errors['email']">L'adresse email doit être une adresse valide !</div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="phone">Telephone :</label>
                    <input class="form-control" id="phone" name="phone" [(ngModel)]="user.phone" type="number"
                           placeholder="ex : 0698754321" value="{{ user.phone }}">
                </div>
                <div class="mb-3">
                    <label class="form-label" for="birthday">Anniversaire :</label>
                    {{ user.birthday  | date:'dd-MM-yyyy'}}
                    <input class="form-control" id="birthday" name="birthday" [(ngModel)]="user.birthday"
                           type="date" value="{{ user.birthday}}">
                </div>
                <div class="mb-3">
                    <label class="form-label" for="password">Mot de passe :</label>
                    <input class="form-control" id="password" name="password" [(ngModel)]="user.password" type="password"
                           minlength="1" required #password="ngModel" value="{{ user.password }}">
                </div>
                <div class="form-control alert-danger my-2" *ngIf="password.errors && userProfileForm.submitted">
                    <div *ngIf="password.errors['required']">Le mot de passe est requis</div>
                    <div *ngIf="password.errors['minlength']">Le mot de passe doit faire plus de 1 caractère !</div>
                </div>
                <div class="text-center my-3">
                    <button class="btn btn-primary m-1">Modifier</button>
                    <button class="btn btn-secondary m-1" routerLink="/admin-contact">Retour</button>
                </div>
            </form>
        </div>
    </div>
</div>

<ng-template #loggedOut>
    Veuillez vous connecter !
</ng-template>
